# ==============================
# 사이트 기본 설정
# ==============================
SITE=INFODEA

# ENV 값은 application.yml에서 적용할 프로파일 선택
# ex) local, dev, prod-web, prod-batch
ENV=dev

# ─────────────────────────────
# 설치 기본 경로
# ─────────────────────────────
INSTALL_BASE=/opt/icr-solution

# ─────────────────────────────
# Java 홈 경로
# ─────────────────────────────
# 사이트 환경에 맞게 수정 필수
# 예시:
#   /usr/lib/jvm/java-17-openjdk      (RHEL/CentOS OpenJDK)
#   /usr/lib/jvm/java-17-openjdk-amd64 (Ubuntu/Debian)
#   /usr/lib/jvm/temurin-21           (Eclipse Temurin)
#   /usr/lib/jvm/java-17-amazon-corretto (Amazon Corretto)
JAVA_HOME=/usr/lib/jvm/temurin-21

# ─────────────────────────────
# Tomcat 버전 / 홈 경로
# ─────────────────────────────
TOMCAT_DIST_NAME=apache-tomcat-10.1.50
TOMCAT_HOME=/opt/icr-solution/tomcat

# ─────────────────────────────
# WAS 포트 / 앱 배포 경로
# ─────────────────────────────

# Shutdown 포트 (Tomcat 종료 명령용)
# 다중 인스턴스 운영 시 인스턴스별로 다르게 설정
WAS_SHUTDOWN_PORT=8005

# HTTP 포트 (지금 테스트용 28080)
# 사이트에 맞춰서 변경 필수
WAS_HTTP_PORT=28080

# HTTPS 포트 (톰캣까지 HTTPS 열고 싶으면 사용)
WAS_HTTPS_PORT=28443

# HTTPS 커넥터 활성화 여부 (Y면 사용, 그 외는 비활성)
WAS_ENABLE_HTTPS=Y

# ─────────────────────────────
# SSL/TLS 인증서 설정 (HTTPS 사용 시)
# ─────────────────────────────
# WAS_ENABLE_HTTPS=Y 일 때만 적용
# 운영환경에서는 반드시 실제 인증서로 교체 필요
# 파일 경로는 TOMCAT_HOME/conf 기준 상대경로
WAS_SSL_KEYSTORE_FILE=localhost-rsa.jks
WAS_SSL_KEYSTORE_PASSWORD=changeit

# Host appBase (Tomcat 기준 상대 경로)
# 실제 경로 = $TOMCAT_HOME/icr-webapps
WAS_APP_BASE="icr-webapps"

# ─────────────────────────────
# JVM 설정 (없으면 install-core가 기본값 채움)
# ─────────────────────────────
JVM_XMS=512m
JVM_XMX=1024m
JVM_TIMEZONE=Asia/Seoul
JVM_ENCODING=UTF-8

# ─────────────────────────────
# External config 디렉토리
# ─────────────────────────────
# 비워두면 install-core에서 INSTALL_BASE/config 로 세팅
ICR_CONFIG_DIR=/opt/icr-solution/config

# ─────────────────────────────
# Jasypt 복호화 키 (필수)
# ─────────────────────────────
JASYPT_ENCRYPTOR_PASSWORD='ERFOCUS-DB-SECRET-KEY-2025!'

# ─────────────────────────────
# Service control (start/stop timeout)
# ─────────────────────────────
# Start 대기 시간(초) — Tomcat 띄운 뒤 java 프로세스 감지까지
SVC_START_TIMEOUT_SEC=30

# Stop 대기 시간(초) — shutdown.sh 실행 후 종료 감지까지
SVC_STOP_TIMEOUT_SEC=30

# Stop 타임아웃 시 강제 종료 허용 여부
SVC_STOP_FORCEKILL=Y

# pkill 후 잠깐 대기(초)
SVC_STOP_FORCEKILL_GRACE_SEC=1

